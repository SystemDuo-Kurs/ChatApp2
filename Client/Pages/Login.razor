@page "/login"
@inject ChatApp2.Client.ViewModeli.IUser UserVM
@inject Blazored.LocalStorage.ILocalStorageService localStore
@inject NavigationManager NM

<EditForm Model=UserVM.UserModel OnSubmit=UserVM.Login>
    <InputText @bind-Value=UserVM.UserModel.UserName/>
    <InputText @bind-Value=UserVM.UserModel.UserPassword/>
    <button type="submit">Login</button>
</EditForm>

@code
{
    protected override async Task OnInitializedAsync()
    {
        if (await localStore.ContainKeyAsync("ulogovan"))
            NM.NavigateTo("/", false);
    }
}